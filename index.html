<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Salad Pro UI</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #FF5E00;
            --bg: #F2F2F7;
            --card: #FFFFFF;
            --text: #1C1C1E;
            --hint: #8E8E93;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            user-select: none;
        }

        /* –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ª–æ–∫–∞—Ü–∏–∏ */
        #screen-loc {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 24px;
            box-sizing: border-box;
            text-align: center;
        }
        .search-container { position: sticky; top: 10px; z-index: 100; margin-bottom: 20px; }
        .logo-container {
            width: 100px;
            height: 100px;
            background: white;
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
            margin-bottom: 25px;
        }
        .logo-container img { width: 75px; height: 75px; border-radius: 50%; }

        .loc-list { width: 100%; display: grid; gap: 12px; }
        .loc-item {
            background: var(--card);
            padding: 18px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            font-weight: 600;
            font-size: 16px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.02);
            transition: transform 0.1s;
        }
        .loc-item:active { transform: scale(0.97); background: #f9f9f9; }
        .loc-icon { font-size: 20px; margin-right: 12px; }

        /* –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Ä–∞–Ω */
        #screen-main { display: none; padding: 20px 16px 140px; }
        .header { margin-bottom: 20px; }
        .header h1 { font-size: 26px; margin: 0; font-weight: 700; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ */
        .item-card {
            background: var(--card);
            border-radius: 20px;
            padding: 14px 16px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
        }

        .item-name { font-weight: 600; font-size: 15px; flex: 1; margin-right: 10px; }

        /* –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ù–´–ô –°–¢–ï–ü–ü–ï–† */
        .stepper {
            display: flex;
            align-items: center;
            background: #F2F2F7;
            border-radius: 12px;
            padding: 3px;
            border: 1px solid #E5E5EA;
        }

        .step-btn {
            width: 34px;
            height: 34px;
            border-radius: 9px;
            border: none;
            background: white;
            color: var(--accent);
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            cursor: pointer;
        }

        /* –ü–æ–ª–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Å—Ç–µ–ø–ø–µ—Ä–∞ */
        .step-input {
            width: 50px;
            border: none;
            background: transparent;
            text-align: center;
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            font-size: 16px;
            color: var(--text);
            outline: none;
        }

        /* –£–±–∏—Ä–∞–µ–º —Å—Ç—Ä–µ–ª–æ—á–∫–∏ —É input number */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }

        /* –§—É—Ç–µ—Ä */
        .footer {
            position: fixed;
            bottom: 0; left: 0; right: 0;
            background: rgba(255,255,255,0.85);
            backdrop-filter: blur(20px);
            padding: 20px 16px;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        .main-button {
            background: var(--accent);
            color: white;
            border: none;
            width: 100%;
            padding: 18px;
            border-radius: 18px;
            font-size: 16px;
            font-weight: 700;
            box-shadow: 0 8px 15px rgba(255, 94, 0, 0.2);
        }
    </style>
</head>
<body>

<div id="screen-loc">
    <img src="logo.png" class="logo" alt="Salad Logo">
    <h2 style="margin: 0 0 10px;">Salad Pro</h2>
    <p style="color: var(--hint); margin: 0 0 30px;">–ì–¥–µ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ?</p>
    <div class="loc-list">
        <div class="loc-item" onclick="openMenu('–≠–∫–æ –ë–æ–∑–æ—Ä')"><span class="loc-icon">üõí</span>–≠–∫–æ –ë–æ–∑–æ—Ä</div>
        <div class="loc-item" onclick="openMenu('–°–µ—Ä–≥–∏–ª–∏ –î–µ—Ö–∫–æ–Ω –ë–æ–∑–æ—Ä')"><span class="loc-icon">üõí</span>–°–µ—Ä–≥–∏–ª–∏ –î–µ—Ö–∫–æ–Ω –ë–æ–∑–æ—Ä</div>
        <div class="loc-item" onclick="openMenu('–°–µ—Ä–≥–∏–ª–∏ –Ø—Ä–º–∞—Ä–∫–∞')"><span class="loc-icon">üõí</span>–°–µ—Ä–≥–∏–ª–∏ –Ø—Ä–º–∞—Ä–∫–∞</div>
    </div>
</div>

<div id="screen-main">
    <div class="header">
        <p id="loc-badge" style="color: var(--accent); font-weight: 600; font-size: 12px; margin-bottom: 4px;"></p>
        <h1>–ù–æ–≤–∞—è –Ω–∞–∫–ª–∞–¥–Ω–∞—è</h1>
    </div>
    <div class="search-container">
        <input type="text" id="search" class="search-input" placeholder="–ù–∞–π—Ç–∏ —Å–∞–ª–∞—Ç...">
    </div>
    <div id="list-container"></div>
    <div class="footer">
        <button class="main-button" onclick="finishOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –ó–∞–∫–∞–∑</button>
    </div>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let selectedLoc = "";
    const items = ["–ê—à–ª–∞–Ω—Ñ—É", "–ë–∞–∫–ª–∞–∂–∞–Ω –∏ –¥—É–Ω–≥–∞–Ω—Å–∫–∏–π –ø–µ—Ä–µ—Ü –∂–∞—Ä–µ–Ω—ã–π", "–ë–∞–∫–ª–∞–∂–∞–Ω—ã –∏ –∫–∞–±–∞—á–∫–∏ –∂–∞—Ä–µ–Ω—ã–µ", 
  "–ë–∞–∫–ª–∞–∂–∞–Ω—ã –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ", "–ë–∞–∫–ª–∞–∂–∞–Ω—ã —Å–æ—Ç–µ", "–ë–∞–∫–ª–∞–∂–∞–Ω—ã —Å—É—Ö–∏–µ", "–í–∏–Ω–µ–≥—Ä–µ—Ç", 
  "–í–∏—Ç–∞–º–∏–Ω–∫–∞", "–ì—Ä–∏–±–Ω–æ–µ –∞—Å—Å–æ—Ä—Ç–∏", "–ì—Ä–∏–±—ã –¥—Ä–µ–≤–µ—Å–Ω—ã–µ", "–ì—Ä–∏–±—ã –∂–∞—Ä–µ–Ω—ã–µ", 
  "–ì—Ä–∏–±—ã –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–µ", "–ì—Ä–∏–±—ã —à–∞–º–ø–∏–Ω—å–æ–Ω—ã", "–ì—Ä–∏–±—ã —à–∏—Ç–∞–∫–∏", "–ö–∞–ø—É—Å—Ç–∞ —Å–ª–∞–¥–∫–∞—è", 
  "–ö–æ—á–∏ –Ω–∏–ø–∏", "–ö—Ä–µ–≤–µ—Ç–∫–∏", "–õ–µ—á–æ", "–ú–∞—Ä–∫–æ–≤—á–∞", "–ú–∞—Ä–∫–æ–≤—á–∞ –Ω–µ –∫—Ä–∞—à–µ–Ω–Ω–∞—è", 
  "–ú–∞—à", "–ú–æ—Ä—Å–∫–∞—è –∫–∞–ø—É—Å—Ç–∞", "–û–≥—É—Ä—Ü—ã", "–ü–µ—Ä–µ—Ü –∂–∞—Ä–µ–Ω—ã–π", "–°–≤—ë–∫–ª–∞", "–°–æ—è –º—è—Å–æ", 
  "–°–ø–∞—Ä–∂–∞", "–°—Ç—Ä–µ–ª–∫–∏", "–¢–∏–±–∏", "–¢–æ—Ñ—É —Å–∞–ª–∞—Ç", "–§–∞—Ä—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ—Ü", "–§—É–Ω—á–æ–∑–∞", 
  "–•–µ –∫—É—Ä–∏–Ω–æ–µ", "–•–µ –º—è—Å–Ω–æ–µ", "–•–µ —Ä—ã–±–∞", "–•–µ —Ç—Ä–∏ –±—É—Ö–∞", "–ì–∞–ª–æ–≤–∫–∞ –∫–∞–ø—É—Å—Ç–∞", 
  "–®–ø–∏–Ω–∞—Ç","–ê—Ä–º—è–Ω—Å–∫–∏–π –∫–∞–ø—É—Å—Ç–∞", "–î–∞–π–∫–æ–Ω –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–π", "–î–∞–π–∫–æ–Ω —Å–∞–ª–∞—Ç", 
  "–ó–≤–µ—Ä–æ–±–æ–π", "–ö–∞–ø—É—Å—Ç–∞ –∫–∏–º—á–∏", "–ö–≤–∞—à–µ–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞ –Ω–µ —Å–ª–∞–¥–∫–∞—è", 
  "–ö–≤–∞—à–µ–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞ —Å–ª–∞–¥–∫–∞—è", "–ú–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–π –æ–≥—É—Ä—Ü—ã", "–ú–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–π –ø–æ–º–∏–¥–æ—Ä", 
  "–†–µ–¥–∏—Å–∫–∞ —á–∏–º—á–∏", "–°–æ–ª—ë–Ω—ã–µ –∞—Å—Å–æ—Ä—Ç–∏", "–°–æ–ª—ë–Ω—ã–µ –æ–≥—É—Ä—Ü—ã", "–°–æ–ª—ë–Ω—ã–µ –ø–∞–º–∏–¥–æ—Ä", 
  "–ß–µ—Å–Ω–æ–∫ –º–∞—Ä–∏–Ω–æ–≤–∞–Ω–Ω—ã–π", "–ß–∏–º—á–∏", "–ñ–µ–Ω—Å–∫–∏–π –∫–∞–ø—Ä–∏–∑", "–ö—Ä–∞–±–æ–≤—ã–µ", "–ú—É–∂—Å–∫–æ–π –∫–∞–ø—Ä–∏–∑", 
  "–û–ª–∏–≤—å–µ", "–ß–∞—Ä—Ç–æ–≥–∏", "–í–∞—Ä–µ–Ω–∫–∞", "–ì–æ—Ä—á–∏—Ü–∞", "–õ–æ–∑–∏–∂–æ–Ω", "–ú–∞—á–µ–Ω–∫–∞", 
  "–ù–æ—Ä–∏ –ë–æ–ª—å—à–æ–π", "–ù–æ—Ä–∏ –ú–∞–ª–µ–Ω—å–∫–∏–π", "–ü–∏–≥–æ–¥—è –∫—Ä–∞—Ö–º–∞–ª—å–Ω—ã–µ", "–ü–∏–≥–æ–¥—è —Ä–∏—Å–æ–≤—ã–π", 
  "–°–ø–∞—Ä–∂–∞ —Å—É—Ö–∞—è", "–•–∞–ª–∞–ø–µ–Ω–æ", "–¢–∏—Ä–æ–π", "–ë–æ—Ä—Å–∏–∫ –π–æ–≥", "–ì–æ–∑ –π–æ–≥", "–¶—è–π –∂–∞—Ä–µ–Ω—ã–π", 
  "–£–∫—Å—É—Å", "–§—É–Ω—á–æ–∑–∞ —Å—É—Ö–∞—è", "–ß–∏–Ω–ø–µ–Ω–∏", "–ß–∏–ø—Å", "–ö—É–∫—Å–∏"];
    let cart = {};

    function openMenu(loc, icon) {
        selectedLoc = loc;
        document.getElementById('screen-loc').style.display = 'none';
        document.getElementById('screen-main').style.display = 'block';
        document.getElementById('loc-badge').innerText =  "üõí " + loc.toUpperCase();
        renderItems();
    }

    function renderItems() {
        const container = document.getElementById('list-container');
        container.innerHTML = items.map(name => `
            <div class="item-card">
                <span class="item-name">${name}</span>
                <div class="stepper">
                    <button class="step-btn" onclick="changeQty('${name}', -1)">‚àí</button>
                    <input type="number" 
                           class="step-input" 
                           id="input-${name}" 
                           value="0" 
                           oninput="updateManual('${name}', this.value)"
                           onfocus="this.select()">
                    <button class="step-btn" onclick="changeQty('${name}', 1)">+</button>
                </div>
            </div>
        `).join('');
    }

    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏ +/-
    function changeQty(name, delta) {
        if (!cart[name]) cart[name] = 0;
        cart[name] = Math.max(0, cart[name] + delta);
        document.getElementById(`input-${name}`).value = cart[name];
        tg.HapticFeedback.impactOccurred('light');
    }

    // –ü—Ä—è–º–æ–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
    function updateManual(name, value) {
        let num = parseInt(value);
        if (isNaN(num) || num < 0) num = 0;
        cart[name] = num;
    }

    function finishOrder() {
        let finalData = [];
        for (let name in cart) {
            if (cart[name] > 0) finalData.push({ name: name, qty: cart[name], unit: "–∫–≥" });
        }
        
        if (finalData.length === 0) {
            tg.showAlert("–í—ã –Ω–µ –≤–≤–µ–ª–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞!");
            return;
        }

        tg.sendData(JSON.stringify({ location: selectedLoc, order: finalData }));
    }
</script>
</body>
</html>
